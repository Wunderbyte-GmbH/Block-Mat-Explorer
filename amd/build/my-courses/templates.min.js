define("block_mat_explorer/my-courses/templates",["exports","core/notification"],(function(_exports,_notification){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.courseCardTemplate=void 0,_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj};_exports.courseCardTemplate=values=>{const elementDefinition=`\n  <div class="card mat-card ${values.userEnrolled?"to-course":"enrol-into-course"}" data-id="${values.id}" tabindex="0">\n    <div class="card-content">\n    <div class="card-front">\n      ${courseCardFrontTemplate(values)}\n    </div>\n    </div>\n  </div>`,element=$(elementDefinition),clickHandler=function(){let url;values.userEnrolled?(url="/course/view.php?id="+values.id,window.location.href=window.location.href.replace(window.location.pathname,url)):(url="/blocks/course_explorer/ajax/enrol_user_into_course.php?courseid="+values.id,fetch(url,{method:"GET"}).then((response=>response.json())).then((result=>(result.enrolled?(url="/course/view.php?id="+values.id,window.location.href=window.location.href.replace(window.location.pathname,url)):_notification.default.alert("Error",result.errormessage,"Close"),console.log(result)))).catch((error=>console.log(error))))};return element.click(clickHandler),element.keyup((event=>{event.originalEvent instanceof KeyboardEvent&&"enter"!==event.key.toLocaleLowerCase()||clickHandler()})),element};const truncateString=(str,length)=>str.length<=length?str:str.slice(0,length)+"...",courseCardFrontTemplate=_ref=>{var _topics,_topics2;let{title:title,MCOriginal:MCOriginal,image:image,description:description,score:score,reviewsnum:reviewsnum,senderName:senderName,courseType:courseType,duration:duration,topics:topics,favourite:favourite}=_ref;title=truncateString(title,100);let courseCardDescription=(description=>""!==description.trim()?description:"lorem ipsum dolor sit amet, consectetur adipiscing elit. lorem ipsum dolor sit amet, consectetur adipiscing elit. lorem ipsum dolor sit amet, consectetur adipiscing elit. lorem ipsum dolor sit amet, consectetur adipiscing elit.")(description);courseCardDescription=truncateString(courseCardDescription,150),topics=null===(_topics=topics)||void 0===_topics?void 0:_topics.map((topic=>topic.value));const heartIconName=favourite?"heart-filled.png":"heart-outline.png";return`\n    <div class="mat-card__image">\n       ${image?'<img src="'+image+'" alt="">':'<img src="https://picsum.photos/2124" alt="">'}\n    </div>\n    <div class="mat-card__background"></div>\n    \n    ${MCOriginal?'<div class="mat-card__label mc-original">MINT-Campus-Original</div>':""}\n    <div class="mat-card__label favourite">\n        <img src="/blocks/course_explorer/resources/images/${heartIconName}" alt="${heartIconName}">\n    </div>\n   \n    \n    <div class="mat-card__content">\n        <small class="mat-card__sender-name">${senderName??""}</small>\n        <h3 class="mat-card__title">\n            ${title}        \n        </h3>\n        <div class="mat-card__quick-facts d-sm-flex justify-content-between flex-wrap">\n            <div class="d-flex align-items-center">\n                <i class="fa fa-graduation-cap mr-1"></i>\n                <span>${courseType??""}</span>\n            </div>\n            <div class="d-flex align-items-center">\n                <i class="fa fa-clock-o mr-1"></i>\n                <span>${duration??""}</span>\n            </div>\n            <div class="d-flex align-items-center">\n                ${getRating(score,reviewsnum)}\n            </div>\n        </div>\n        <p class="mat-card__description">\n            ${courseCardDescription}\n        </p>\n        ${(null===(_topics2=topics)||void 0===_topics2?void 0:_topics2.length)>0?`<div class="mat-card__tags d-flex">\n                <div class="d-flex align-items-center">\n                    <i class="fa fa-tag"></i>\n                </div>\n                <div>${topics.join(", ")}</div>\n            </div>`:""}\n    </div>`},getRating=(score,reviewsnum)=>{let firstStarClass="fa-star-o",secondStarClass="fa-star-o",thirdStarClass="fa-star-o";return score&&((score*=.6)<.75?firstStarClass="fa-star-half-o":score<1.25?firstStarClass="fa-star":score<1.75?(firstStarClass="fa-star",secondStarClass="fa-star-half-o"):score<2.25?(firstStarClass="fa-star",secondStarClass="fa-star"):score<2.75?(firstStarClass="fa-star",secondStarClass="fa-star",thirdStarClass="fa-star-half-o"):(firstStarClass="fa-star",secondStarClass="fa-star",thirdStarClass="fa-star")),`<i class="fa ${firstStarClass}"></i>\n            <i class="fa ${secondStarClass}"></i>\n            <i class="fa ${thirdStarClass} mr-1"></i>\n            <span>(${reviewsnum=reviewsnum??0})</span>`}}));

//# sourceMappingURL=templates.min.js.map