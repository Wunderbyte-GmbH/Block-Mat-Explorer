{"version":3,"file":"modal.min.js","sources":["../src/modal.js"],"sourcesContent":["import {get_string as getString} from 'core/str';\nimport { SELECTORS } from \"./static-selectors\";\nconst localSelectors = {\n  LEFT_COLUMN: \"left-column\",\n  RIGHT_COLUMN: \"right-column\",\n  MODAL_BODY: \".modal-dynamic-content\",\n};\n\nconst _getMainContainer = () => {\n  console.log(SELECTORS.COURSE_DETAIL_MODAL);\n  const modal = document.getElementById(SELECTORS.COURSE_DETAIL_MODAL);\n\n  return modal.querySelector(localSelectors.MODAL_BODY);\n};\n\nconst createColumn = (id, className) => () => {\n  if (document.getElementById(id)) {\n    return document.getElementById(id);\n  }\n  const column = document.createElement(\"div\");\n  column.id = id;\n  column.classList.add(className);\n  return column;\n};\n\nconst createLeftColumn = createColumn(\n  localSelectors.LEFT_COLUMN,\n  \"left-column\"\n);\nconst createRightColumn = createColumn(\n  localSelectors.RIGHT_COLUMN,\n  \"right-column\"\n);\n\nconst createLayout = () => {\n  const layout = _getMainContainer();\n  layout.classList.add(\"course-details-layout\");\n  layout.appendChild(createLeftColumn());\n  layout.appendChild(createRightColumn());\n  return layout;\n};\n\nul = (list, classList) => {\n  const ul = document.createElement(\"ul\");\n  ul.classList.add(...classList);\n  ul.append(...list.map((item) => li(item)));\n  return ul;\n};\n\nli = (text) => {\n  const liElement = document.createElement(\"li\");\n  const textEl = document.createTextNode(text);\n  liElement.appendChild(textEl);\n  return liElement;\n};\n\nexport const buildCourseDetailsModal = (course) => {\n  createLayout();\n  constructLeftColumn(course);\n  constructRightColumn(course);\n  //   const modal = document.getElementById(SELECTORS.COURSE_DETAIL_MODAL);\n  //   const modalBody = modal.querySelector(\".modal-dynamic-content\");\n  //   modalBody.innerHTML = `course details for ${course.id}, fetched at ${course.title}`;\n};\n\nconst constructLeftColumn = (course) => {\n  const leftColumn = document.getElementById(localSelectors.LEFT_COLUMN);\n\n  const courseImage = document.createElement(\"img\");\n  courseImage.src = course.imageUrl;\n  courseImage.classList.add(\"course-image\");\n\n  const contentsTitle = document.createElement('h5');\n  contentsTitle.classList.add('contents-title');\n  getString('modal:coursecontents', 'block_mat_explorer')\n      .then(str => {\n        contentsTitle.innerHTML = str;\n        return str;\n      }).catch();\n\n  const courseContents = [\n      ...course.contents\n  ];\n  const courseContentsElement = ul(courseContents, [\n    \"list\",\n    \"extra-information-list\",\n  ]);\n\n  const courseLink = createLinkToCourse();\n\n  leftColumn.innerHTML = \"\";\n\n  leftColumn.appendChild(courseImage);\n  leftColumn.appendChild(contentsTitle);\n  leftColumn.appendChild(courseContentsElement);\n  leftColumn.appendChild(courseLink);\n};\n\nconst createLinkToCourse = () => {\n  const courseLink = document.createElement(\"div\");\n  courseLink.classList.add(\"course-price\");\n\n  const button = document.createElement(\"button\");\n  button.classList.add(\"price-button\", \"btn\", \"btn-primary\", \"btn-lg\");\n  const buttonSpan = document.createElement(\"span\");\n  buttonSpan.classList.add(\"button-span\");\n  getString('modal:linktocourse', 'block_mat_explorer')\n      .then(str => {\n        buttonSpan.innerHTML = str;\n        return str;\n      }).catch();\n  button.appendChild(buttonSpan);\n  const buttonIcon = document.createElement(\"i\");\n  buttonIcon.classList.add(\"fa\", \"fa-chevron-right\");\n  button.appendChild(buttonIcon);\n\n  courseLink.appendChild(button);\n  return courseLink;\n};\n\nconst constructRightColumn = (course) => {\n  const rightColumn = document.getElementById(localSelectors.RIGHT_COLUMN);\n  rightColumn.innerHTML = \"\";\n  const courseDescription = document.createElement(\"div\");\n  courseDescription.classList.add(\"course-description\");\n  courseDescription.innerHTML = course.description;\n  rightColumn.appendChild(courseDescription);\n};\n"],"names":["localSelectors","createColumn","id","className","document","getElementById","column","createElement","classList","add","createLeftColumn","createRightColumn","createLayout","layout","console","log","SELECTORS","COURSE_DETAIL_MODAL","querySelector","appendChild","ul","list","append","map","item","li","text","liElement","textEl","createTextNode","course","constructLeftColumn","constructRightColumn","leftColumn","courseImage","src","imageUrl","contentsTitle","then","str","innerHTML","catch","courseContents","contents","courseContentsElement","courseLink","createLinkToCourse","button","buttonSpan","buttonIcon","rightColumn","courseDescription","description"],"mappings":"iOAEMA,2BACS,cADTA,4BAEU,eAFVA,0BAGQ,yBAURC,aAAe,CAACC,GAAIC,YAAc,QAClCC,SAASC,eAAeH,WACnBE,SAASC,eAAeH,UAE3BI,OAASF,SAASG,cAAc,cACtCD,OAAOJ,GAAKA,GACZI,OAAOE,UAAUC,IAAIN,WACdG,QAGHI,iBAAmBT,aACvBD,2BACA,eAEIW,kBAAoBV,aACxBD,4BACA,gBAGIY,aAAe,WACbC,QA1BNC,QAAQC,IAAIC,2BAAUC,qBACRb,SAASC,eAAeW,2BAAUC,qBAEnCC,cAAclB,mCAwB3Ba,OAAOL,UAAUC,IAAI,yBACrBI,OAAOM,YAAYT,oBACnBG,OAAOM,YAAYR,qBACZE,QAGTO,GAAK,CAACC,KAAMb,mBACJY,GAAKhB,SAASG,cAAc,aAClCa,GAAGZ,UAAUC,OAAOD,WACpBY,GAAGE,UAAUD,KAAKE,KAAKC,MAASC,GAAGD,SAC5BJ,IAGTK,GAAMC,aACEC,UAAYvB,SAASG,cAAc,MACnCqB,OAASxB,SAASyB,eAAeH,aACvCC,UAAUR,YAAYS,QACfD,4CAG+BG,SACtClB,eACAmB,oBAAoBD,QACpBE,qBAAqBF,eAMjBC,oBAAuBD,eACrBG,WAAa7B,SAASC,eAAeL,4BAErCkC,YAAc9B,SAASG,cAAc,OAC3C2B,YAAYC,IAAML,OAAOM,SACzBF,YAAY1B,UAAUC,IAAI,sBAEpB4B,cAAgBjC,SAASG,cAAc,MAC7C8B,cAAc7B,UAAUC,IAAI,sCAClB,uBAAwB,yBAC7B6B,MAAKC,MACJF,cAAcG,UAAYD,IACnBA,OACNE,cAEDC,eAAiB,IAChBZ,OAAOa,UAERC,sBAAwBxB,GAAGsB,eAAgB,CAC/C,OACA,2BAGIG,WAAaC,qBAEnBb,WAAWO,UAAY,GAEvBP,WAAWd,YAAYe,aACvBD,WAAWd,YAAYkB,eACvBJ,WAAWd,YAAYyB,uBACvBX,WAAWd,YAAY0B,aAGnBC,mBAAqB,WACnBD,WAAazC,SAASG,cAAc,OAC1CsC,WAAWrC,UAAUC,IAAI,sBAEnBsC,OAAS3C,SAASG,cAAc,UACtCwC,OAAOvC,UAAUC,IAAI,eAAgB,MAAO,cAAe,gBACrDuC,WAAa5C,SAASG,cAAc,QAC1CyC,WAAWxC,UAAUC,IAAI,mCACf,qBAAsB,yBAC3B6B,MAAKC,MACJS,WAAWR,UAAYD,IAChBA,OACNE,QACPM,OAAO5B,YAAY6B,kBACbC,WAAa7C,SAASG,cAAc,YAC1C0C,WAAWzC,UAAUC,IAAI,KAAM,oBAC/BsC,OAAO5B,YAAY8B,YAEnBJ,WAAW1B,YAAY4B,QAChBF,YAGHb,qBAAwBF,eACtBoB,YAAc9C,SAASC,eAAeL,6BAC5CkD,YAAYV,UAAY,SAClBW,kBAAoB/C,SAASG,cAAc,OACjD4C,kBAAkB3C,UAAUC,IAAI,sBAChC0C,kBAAkBX,UAAYV,OAAOsB,YACrCF,YAAY/B,YAAYgC"}